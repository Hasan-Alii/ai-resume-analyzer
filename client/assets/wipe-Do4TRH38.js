import{w as m,x as f,a,p as e}from"./chunk-PVWAREVJ-zcDyG7xV.js";import{u as h}from"./puter-DYx41MAH.js";const g=()=>{var o;const{auth:i,isLoading:t,error:r,fs:n,kv:d}=h(),x=f(),[c,p]=a.useState([]),l=async()=>{const s=await n.readDir("./");p(s)};a.useEffect(()=>{l()},[]),a.useEffect(()=>{!t&&!i.isAuthenticated&&x("/auth?next=/wipe")},[t]);const u=async()=>{c.forEach(async s=>{await n.delete(s.path)}),await d.flush(),l()};return t?e.jsx("div",{children:"Loading..."}):r?e.jsxs("div",{children:["Error ",r]}):e.jsx("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:e.jsxs("div",{className:"flex flex-col items-center justify-center m-30",children:[e.jsxs("div",{children:["User Authenticated as: ",e.jsx("strong",{children:(o=i.user)==null?void 0:o.username})]}),e.jsx("div",{className:"text-2xl font-bold",children:"Existing files:"}),e.jsx("div",{className:"flex flex-col gap-4",children:c.map(s=>e.jsx("div",{className:"flex flex-row gap-4 text-xl font-medium p-1",children:e.jsx("p",{children:s.name})},s.id))}),e.jsx("div",{className:"p-4",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-md cursor-pointer primary-button",onClick:()=>u(),children:"Wipe App Data"})})]})})},w=m(g);export{w as default};
