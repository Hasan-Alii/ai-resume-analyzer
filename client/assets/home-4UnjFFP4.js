import{p as e,a as c,v as x,w as j,x as p}from"./chunk-PVWAREVJ-zcDyG7xV.js";import{N as g}from"./Navbar-DOgb0Kqw.js";import{u as h}from"./puter-DYx41MAH.js";const v=({score:o=75})=>{const s=2*Math.PI*36,i=o/100,a=s*(1-i);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#e5e7eb",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"1",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF97AD"}),e.jsx("stop",{offset:"100%",stopColor:"#5171FF"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:s,strokeDashoffset:a,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:`${o}/100`})})]})},N=({resume:{id:o,companyName:t,jobTitle:r,feedback:l,imagePath:s}})=>{const[i,a]=c.useState(""),{fs:d}=h();return c.useEffect(()=>{(async()=>{const n=await d.read(s);if(!n)return;let u=URL.createObjectURL(n);a(u)})()},[s]),e.jsxs(x,{to:`/resume/${o}`,className:"resume-card animate-in fade-in duration-1000",children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[t&&e.jsx("h2",{className:"!text-black font-bold break-words",children:t}),r&&e.jsx("h3",{className:"text-lg break-words text-gray-500",children:r}),!t&&!r&&e.jsx("h2",{className:"!text-black font-bold",children:"Resume"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{score:l.overallScore})})]}),i&&e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:i,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top"})})})]})};function w({}){return[{title:"San's Resume Analyzer"},{name:"description",content:"Your Career Advice is One Step Away!"}]}const y=j(function(){const{auth:t,kv:r}=h(),l=p(),[s,i]=c.useState([]),[a,d]=c.useState(!1);return c.useEffect(()=>{t.isAuthenticated||l("/auth?next=/")},[t.isAuthenticated]),c.useEffect(()=>{(async()=>{d(!0);const n=await r.list("resume:*",!0),u=n==null?void 0:n.map(f=>JSON.parse(f.value));i(u||[]),d(!1),console.log("parsedResumes",u)})()},[]),e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(g,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Track Your Applications & Resume Ratings"}),!a&&s.length===0?e.jsx("div",{children:e.jsx("h2",{children:"No uploaded resumes found, upload your resume now to get feedback for your next dream job!"})}):e.jsx("h2",{children:"Review your Submissions and check AI-powered feedback"})]}),a&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/public/images/resume-scan-2.gif",className:"w-[200px]"})}),e.jsx("div",{}),!a&&s.length>0&&e.jsx("div",{className:"resumes-section",children:s.map(m=>e.jsx(N,{resume:m},m.id))}),!a&&s.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center mt-10 gap-4",children:e.jsx(x,{to:"/upload",className:"primary-button w-fit text-xl font-semibold",children:"Upload & Analyze your Resume Now!"})})]})]})});export{y as default,w as meta};
